@page "/bookings/create/"

@inject HttpClient _client
@inject NavigationManager _navManager

<FormComponent ButtonText="Add Booking" OnValidSubmit="@CreateBooking" booking="newBooking" />

    @code {

        Booking newBooking;


        protected async override Task OnInitializedAsync()
        {
            this.newBooking = new Booking
            {
                DateOut = DateTime.Now.Date
            };
        }


        private async Task CreateBooking()
        {
            await _client.PostAsJsonAsync(Endpoints.BookingsEndpoint, newBooking);
            _navManager.NavigateTo("/bookings/");
        }
    }
